# 简历系统需求分析

## 1. 项目概述

### 1.1 项目背景
面向用户的简历管理系统，提供简历创建、编辑、预览、导出等功能，与 pig 统一认证平台集成。

### 1.2 技术选型
- **后端**: Spring Boot 3.x，与 pig-auth 集成
- **前端**: Vue 3 + Element Plus
- **数据库**: MySQL 8.0
- **存储**: MinIO/OSS（简历附件）
- **导出**: OpenPDF + FreeMarker（PDF 导出）

### 1.3 与 pig 集成方式
- 复用 pig 的用户认证体系
- 使用 pig 的权限管理（RBAC）
- 集成 pig 的网关路由
- 共用 MySQL 数据库（表前缀 `resume_*`）

---

## 2. 功能需求

### 2.1 简历管理

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 创建简历 | 新建空白简历 | P0 |
| 编辑简历 | 在线编辑简历信息 | P0 |
| 预览简历 | 预览简历最终效果 | P0 |
| 删除简历 | 删除指定简历 | P0 |
| 复制简历 | 复制现有简历 | P1 |
| 重命名简历 | 修改简历名称 | P2 |

### 2.2 简历模板

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 模板列表 | 查看可选模板 | P0 |
| 模板预览 | 预览模板效果 | P1 |
| 选择模板 | 套用模板生成简历 | P0 |

### 2.3 简历导出

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 导出 PDF | 导出 PDF 格式 | P0 |
| 导出 HTML | 导出 HTML 格式 | P1 |
| 导出 JSON | 导出 JSON 数据（备份） | P2 |
| 导出 Markdown | 导出 Markdown 格式 | P2 |

### 2.4 简历区块管理

| 区块 | 描述 | 优先级 |
|------|------|--------|
| 个人信息 | 姓名、头像、联系方式等 | P0 |
| 求职意向 | 期望职位、薪资等 | P0 |
| 教育经历 | 学校、时间、学历等 | P0 |
| 工作经历 | 公司、职位、工作内容等 | P0 |
| 项目经历 | 项目名称、角色、职责等 | P0 |
| 专业技能 | 技能列表、熟练度等 | P0 |
| 证书资质 | 证书名称、获得时间等 | P1 |
| 自我评价 | 简短的自我描述 | P1 |
| 作品展示 | 作品链接、描述等 | P2 |

---

## 3. 非功能性需求

### 3.1 性能需求
- 页面加载时间 < 3s
- PDF 导出时间 < 10s
- 支持 1000+ 并发用户

### 3.2 安全需求
- 用户数据隔离（只能查看自己的简历）
- 敏感信息加密存储
- 导出文件安全扫描

### 3.3 兼容性
- Chrome、Firefox、Safari、Edge 最新版
- 移动端响应式适配

---

## 4. 用户流程

```
┌─────────────────────────────────────────────────────────────────┐
│                         用户流程图                               │
└─────────────────────────────────────────────────────────────────┘

  用户登录 (复用 pig-auth)
       │
       ▼
  ┌─────────┐
  │ 首页    │───► 我的简历列表
  │         │───► 创建新简历
  │         │───► 模板市场
  └─────────┘
       │
       ▼
  ┌─────────────────────────────────────────┐
  │ 简历编辑器                                │
  │ ┌──────────┐  ┌──────────────────────┐   │
  │ │ 区块列表  │  │   简历预览区域        │   │
  │ │          │  │                      │   │
  │ │ - 个人信息│  │   [实时预览]         │   │
  │ │ - 教育经历│  │                      │   │
  │ │ - 工作经历│  │                      │   │
  │ │ - 项目经历│  └──────────────────────┘   │
  │ │ - 专业技能│                              │
  │ └──────────┘                              │
  └─────────────────────────────────────────┘
       │
       ▼
  ┌─────────┐
  │ 导出    │───► PDF / HTML / JSON / Markdown
  └─────────┘
```

---

## 5. 与 pig 系统集成点

| 集成点 | 说明 |
|--------|------|
| 用户认证 | 使用 pig-auth 登录，获取当前用户信息 |
| 权限管理 | 使用 pig 的角色权限控制 |
| 网关路由 | 通过 pig-gateway 路由到 resume 服务 |
| 数据库 | 共用 pig 的 MySQL，表前缀 `resume_*` |
| 文件存储 | 可复用 pig 的文件服务或独立配置 |

---

## 6. MVP 范围

### 第一期（P0 优先级）
- [ ] 用户登录
- [ ] 创建/编辑/删除简历
- [ ] 个人信息、教育经历、工作经历、项目经历、专业技能区块
- [ ] 简历预览
- [ ] 导出 PDF

### 第二期（P1 优先级）
- [ ] 证书资质、自我评价、作品展示
- [ ] 简历模板切换
- [ ] 导出 HTML
- [ ] 复制简历

### 第三期（P2 优先级）
- [ ] 导出 JSON/Markdown
- [ ] 重命名简历
- [ ] 简历分享（生成链接）
